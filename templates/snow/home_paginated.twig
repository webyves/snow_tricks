{% extends 'base.twig' %}

{% block title %}Acceuil{% endblock %}

{% block body %}
<div class="row">
    <div class="col">
        <img class="img-fluid" src="/img/default.jpg" alt="Snow Trick Image par default">
        <h1 class="textOnImg">Bienvenue sur Snow Tricks</h1>
    </div>
</div>
<hr>
<div class="row">
    <div class="col text-center">
        <h4>Liste des figures :</h4>
        <p>nbTricks : {{ nbTricks }}</p>
        <p>nbPages : {{ nbPages }}</p>
        <p>offset : {{ offset }}</p>
        <p>limit : {{ limit }}</p>
    </div>
</div>
<div class="tricks row">
    {% for trick in tricks %}
        {% include 'snow/confirmDeleteTrickModal.twig' %}
        <div class="col-3">
            <div class="card">
                {% if trick.trickImages[0] is defined %}
                <img class="card-img-top" src="{{ asset('uploads/trick_images/' ~ trick.trickImages[0].link) }}" alt="Image Trick {{ trick.id }}">
                {% else %}
                <img class="card-img-top" src="/img/default.jpg" alt="Snow Trick Image par default">
                {% endif %}
                <div class="card-body">
                    <h5 class="card-title">{{ trick.name }}</h5>
                    <h6 class="text-muted">Ajout√©e : {{ trick.dateCreate | date('d-m-Y') }}</h6>
                    <div class="card-link btn-group">
                        <a href="{{ path('show_trick', {'id': trick.id}) }}" class="btn btn-sm btn-primary"><em class="far fa-eye"></em> Voir la fiche</a>
                        {% if app.user %}
                        <a href="{{ path('edit_trick', {'id': trick.id}) }}" class="btn btn-sm btn-warning"><em class="fas fa-pencil-alt"></em></a>
                        <a data-toggle="modal" href="#confirmDeleteModal_{{ trick.id }}" class="btn btn-sm btn-danger"><em class="fas fa-trash-alt"></em></a>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    {% endfor %}
    <hr>
</div>
{% endblock %}
