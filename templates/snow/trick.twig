{% extends 'base.twig' %}
{% form_theme trickCommentForm 'bootstrap_4_layout.html.twig' %}

{% block title %}{{ trick.name }}{% endblock %}

{% block body %}
{% include 'snow/confirmDeleteTrickModal.twig' %}
<div class="row">
    <div class="col">
        <img class="img-fluid" src="https://via.placeholder.com/200x200" alt="Card image cap">
        <h3 class=""><em>Nom : </em>{{ trick.name }}</h3>
        <h4 class=""><em>Groupe : </em>{{ trick.trickGroup.name }}</h4>
        <h4 class=""><em>Description : </em></h4>
        <p class="">{{ trick.content | raw }}</p>
        <h2>{{ trick.trickImages | length}} Photos & {{ trick.trickVideos | length}} Videos</h2>
        <div class="row">
            {% for trickVideo in trick.trickVideos %}
            <div class="col-4">
                {{ trickVideo.link | raw }}
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<hr>
<div class="row">
    <div class="col">
        <h6 class="text-muted">Créé le : {{ trick.dateCreate | date('d-m-Y : H:i') }}</h6>
        <h6 class="text-muted">Par : {{ trick.userCreate.userName }}</h6>
    </div>
    {% if trick.dateCreate != trick.dateUpdate %}
    <div class="col">
        <h6 class="text-muted">Derniere  modif le : {{ trick.dateUpdate | date('d-m-Y : H:i') }}</h6>
        <h6 class="text-muted">Par : {{ trick.userUpdate.userName }}</h6>
    </div>
    {% endif %}
    {% if app.user %}
    <div class="col">
        <div class="btn-group">
            <a href="{{ path('edit_image_trick', {'id': trick.id}) }}" class="btn btn-info"><em class="far fa-image"></em></a>
            <a href="{{ path('edit_video_trick', {'id': trick.id}) }}" class="btn btn-primary"><em class="fab fa-youtube"></em></a>
            <a href="{{ path('edit_trick', {'id': trick.id}) }}" class="btn btn-warning"><em class="fas fa-pencil-alt"></em></a>
            <a data-toggle="modal" href="#confirmDeleteModal_{{ trick.id }}" class="btn btn-danger"><em class="fas fa-trash-alt"></em></a>
        </div>
    </div>
    {% endif %}
</div>
<hr>
<h2>{{ trick.trickComments | length}} Commentaires</h2>
<div class="row">
    <div class="col">
        {% for comment in trick.trickComments %}
        <div class="row">
            <div class="col">
                <h6 class="text-muted">Ecrit le : {{ comment.dateCreate | date('d-m-Y : H:i') }}</h6>
                <h6 class="text-muted">Par : {{ comment.userCreate.userName }}</h6>
                <p>{{ comment.text }}</p>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% if app.user %}
<div class="row">
    <div class="col">
        {{ form_start(trickCommentForm) }}
        <h2>Laissez nous votre commentaire.</h2>
        {{ form_row(trickCommentForm.text, {
                        'attr': {'placeholder': "Votre Commentaire ..."},
                        'label': "Laissez ici votre commentaire."}) }}
        <button type="submit" class="btn btn-success">Envoyer</button>
        {{ form_end(trickCommentForm) }}
    </div>
</div>
{% endif %}
{% endblock %}
